% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/spatiotemporal_rarefication.R
\name{spatiotemporal_rarefication}
\alias{spatiotemporal_rarefication}
\title{Spatiotemporal Rarefication of Species Occurrence Data}
\usage{
spatiotemporal_rarefication(
  points_sp,
  output_dir,
  reference_raster,
  time_cols = NULL,
  xcol = NULL,
  ycol = NULL,
  points_crs = NULL,
  output_prefix = "Pts_Database"
)
}
\arguments{
\item{points_sp}{Input point data. May be an sf object, data frame,
SpatialPointsDataFrame, or file path to .csv, .shp, .geojson, or .gpkg.}

\item{output_dir}{Character. Directory where output files will be saved.}

\item{reference_raster}{Character or raster object. Raster used to define
pixel boundaries for rarefication. May be a file path, RasterLayer, or
SpatRaster.}

\item{time_cols}{Character vector. Column names defining temporal grouping
for spatiotemporal rarefication. Default is NULL for spatial-only
rarefication.}

\item{xcol}{Character. Name of x-coordinate column when input is a data frame
or CSV. Required for tabular inputs.}

\item{ycol}{Character. Name of y-coordinate column when input is a data frame
or CSV. Required for tabular inputs.}

\item{points_crs}{Character or CRS object. CRS of the input points. Required
when coordinates are supplied in tabular form.}

\item{output_prefix}{Character. Prefix for output file names. Default is
"Pts_Database".}
}
\value{
Invisibly returns a list with summary information. CSV files are
  written to output_dir containing rarefied occurrence data.
}
\description{
Preprocessing function that rarefies species occurrence data to one point per
raster pixel, optionally accounting for temporal components. Reduces sampling
bias and spatial autocorrelation in occurrence datasets.
}
\details{
The function assigns each point to a raster pixel and performs:
\itemize{
  \item Spatial rarefication: retains one point per pixel
  \item Spatiotemporal rarefication (if time_cols provided): retains one
    point per pixel per time combination
}

Output files include spatial-only and optionally spatiotemporal rarefied
datasets suitable for \code{\link{temporally_explicit_extraction}}.
}
\examples{
\dontrun{
spatiotemporal_rarefication(
  points_sp = "occurrences.csv",
  output_dir = "rarefied_data/",
  reference_raster = "reference.tif",
  time_cols = c("Year", "Month"),
  xcol = "longitude",
  ycol = "latitude",
  points_crs = "EPSG:4326"
)
}

}
\seealso{
Preprocessing: \code{\link{temporally_explicit_extraction}},
\code{\link{spatiotemporal_partition}}
}
